@page "/driverTable"
@using AMS2aiGenerator.Models



<RadzenDataGrid @ref="Grid" AllowFiltering="true" AllowColumnResize="true" FilterMode="FilterMode.Advanced" AllowSorting="true" PageSize="5" AllowPaging="true" PagerHorizontalAlign="HorizontalAlign.Left" ShowPagingSummary="true"
                Data="@driverList" TItem="Driver" ColumnWidth="100px" LogicalFilterOperator="LogicalFilterOperator.Or">
        <Columns>
        <RadzenDataGridColumn TItem="Driver" Property="livery_name" Title="livery_name" />
        <RadzenDataGridColumn TItem="Driver" Property="name" Title="name" Frozen="true"  />
        <RadzenDataGridColumn TItem="Driver" Property="country" Title="First Name" />

        </Columns>
    </RadzenDataGrid>
@code {
    [Parameter] public List<Driver> driverList { get; set; }
    public RadzenDataGrid<Driver> Grid;

    protected override void OnInitialized()
    {

    }
  
    //protected override async Task OnParametersSetAsync()
    //{

    //    await Grid.Reload();
    //}
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
       
        if (firstRender)
        {
         
        }
        else
        {
            await Grid.Reload();
       // await Grid.Reload();
        } 
    }

}
